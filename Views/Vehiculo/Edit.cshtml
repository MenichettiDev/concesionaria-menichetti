@model Vehiculo

@{
    ViewData["Title"] = "Editar Vehículo";
}

@if (TempData["SuccessMessage"] != null)
{
    <div class="alert alert-success">@TempData["SuccessMessage"]</div>
}
@if (ViewBag.ErrorMessage != null)
{
    <div class="alert alert-danger">@ViewBag.ErrorMessage</div>
}


<h1>@ViewData["Title"]</h1>

<form asp-action="Edit" method="post">
    <input type="hidden" asp-for="Id" />
    <div class="form-group">
        <label for="Marca">Marca</label>
        <input type="text" class="form-control" asp-for="Modelo.Marca.Descripcion" required readonly />
    </div>
    <div class="form-group">
        <label for="Modelo">Modelo</label>
        <input type="text" class="form-control" asp-for="Modelo.Descripcion" required readonly />
    </div>
    <div class="form-group">
        <label for="Anio">Año</label>
        <select asp-for="Anio" class="form-control" required>
            <option value="">Seleccionar año</option>
            @{
                var currentYear = DateTime.Now.Year;
                for (int i = 0; i < 35; i++)
                {
                    var year = currentYear - i;
                    if (Model.Anio == year)
                    {
                        <option value="@year" selected>@year</option>
                    }
                    else
                    {
                        <option value="@year">@year</option>
                    }
                }
            }
        </select>
    </div>
    <div class="form-group">
        <label for="Precio">Precio</label>
        <input type="number" class="form-control" asp-for="Precio" step="0.01" required />
    </div>

    <div class="form-group">
        <label for="Kilometraje">Kilometraje</label>
        <input type="number" class="form-control" asp-for="Kilometraje" required />
    </div>

    <div class="form-group">
        <label for="Combustible">Combustible</label>
        <select class="form-control" asp-for="Combustible" required>
            <option value="">Seleccionar tipo</option>
            <option value="Nafta">Nafta</option>
            <option value="Nafta/ GNC">Nafta/ GNC</option>
            <option value="Gasoil">Gasoil</option>
        </select>
    </div>

    <div class="form-group">
        <div class="form-group">
            <label>Estado</label>
            <input type="text" class="form-control" value="@(Model.Estado == 1 ? "Activo" : "Inactivo")" readonly />
        </div>

    </div>
    <div class="mt-3">
        <a href="@Url.Action("Index", "Vehiculo")" class="btn btn-secondary">Volver al listado</a>
        <button type="submit" class="btn btn-primary">Guardar</button>
    </div>
</form>

@section Scripts {
    <script>
        new Vue({
            el: '#idEstado  ',
            data: {
                estado: @Model.Estado  // Si lo estás pasando desde Razor
                                                                            }
        })
    </script>

}